<!-- Versión escritorio -->
<div *ngIf="!isMobile">
  <article
    class="post-card group bg-[rgba(255,255,255,0.05)] backdrop-blur-lg rounded-2xl overflow-hidden shadow-[0_0_15px_rgba(59,130,246,0.3)] hover:shadow-[0_0_30px_rgba(236,72,153,0.5)] transition-all duration-300 max-w-sm mx-auto transform hover:-translate-y-1"
    itemscope
    itemtype="https://schema.org/Article"
  >
    <div class="relative overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-t from-[rgba(0,0,0,0.8)] to-transparent z-0"></div>
      <img
        [src]="image"
        alt="Imagen del post"
        class="object-cover w-full h-40 transition-all duration-500 group-hover:scale-105 group-hover:brightness-110"
        itemprop="image"
      />
      <div class="absolute bottom-0 left-0 p-4 z-10">
        <h2
          class="font-orbitron text-xl font-bold text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)] animate-glow"
          itemprop="headline"
        >
          {{ title }}
        </h2>
        <p class="font-medium text-sm text-white mt-1 drop-shadow-md" itemprop="articleSection">
          {{ category }}
        </p>
      </div>
    </div>
    <div class="p-4 space-y-3 bg-[rgba(0,0,0,0.9)]">
      <p class="text-gray-200 text-sm leading-snug" itemprop="description">
        {{ excerpt }}
      </p>
      <div class="flex items-center space-x-3 text-xs">
        <div class="flex-shrink-0">
          <span
            class="w-8 h-8 rounded-full flex items-center justify-center text-white font-bold animate-pulse text-sm"
            [ngStyle]="{'background': 'linear-gradient(to right, ' + dynamicStyles.gradientFrom + ', ' + dynamicStyles.gradientTo + ')' }"
            itemprop="author"
            itemscope
            itemtype="https://schema.org/Person"
          >
            <meta itemprop="name" [content]="author" />
            {{ authorInitials }}
          </span>
        </div>
        <div>
          <p
            class="font-medium"
            [ngClass]="[dynamicStyles.text, 'drop-shadow-md']"
          >
            <span
              itemprop="author"
              itemscope
              itemtype="https://schema.org/Person"
            >
              <meta itemprop="name" [content]="author" />
              {{ author }}
            </span>
          </p>
          <p
            class="text-xs"
            [ngClass]="[dynamicStyles.text, 'drop-shadow-md']"
          >
            <time
              itemprop="datePublished"
              [attr.datetime]="date"
            >{{ date }}</time>
          </p>
        </div>
      </div>
    </div>
    <div
      class="px-4 py-3 flex justify-between items-center"
      [ngStyle]="{'background': 'linear-gradient(to right, ' + dynamicStyles.gradientFrom + ', ' + dynamicStyles.gradientTo + ')' }"
    >
      <div class="text-xs">
        <span
          class="px-2 py-1 rounded-full text-xs font-semibold transition-all duration-200 hover:bg-[rgba(255,255,255,0.1)]"
          [ngClass]="[dynamicStyles.background, dynamicStyles.text]"
          itemprop="keywords"
        >
          #{{ tag }}
        </span>
      </div>
      <a
        [href]="readMoreUrl"
        class="bg-gradient-to-r text-white font-semibold py-2 px-4 rounded-full shadow-[0_0_10px_rgba(0,229,255,0.5)] transition-all duration-300 transform hover:scale-105 hover:shadow-[0_0_20px_rgba(236,72,153,0.7)] flex items-center animate-glow text-sm"
        [ngStyle]="{'background': 'linear-gradient(to right, ' + dynamicStyles.gradientFrom + ', ' + dynamicStyles.gradientTo + ')' }"
        itemprop="mainEntityOfPage"
      >
        <span>Leer más</span>
        <svg
          class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform duration-300"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M14 5l7 7m0 0l-7 7m7-7H3"
          />
        </svg>
      </a>
    </div>
  </article>
</div>

<!-- Versión móvil -->
<div *ngIf="isMobile" class="relative max-w-full mx-auto px-4">
  <div class="relative transition-all duration-500 ease-in-out" [@slideAnimation]="currentPostIndex">
    <article
      #postCard
      class="post-card group bg-[rgba(255,255,255,0.05)] backdrop-blur-lg rounded-2xl overflow-hidden shadow-[0_0_15px_rgba(59,130,246,0.3)] hover:shadow-[0_0_30px_rgba(236,72,153,0.5)] transition-all duration-300 w-full transform hover:-translate-y-1 relative"
      itemscope
      itemtype="https://schema.org/Article"
    >
      <div class="relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-t from-[rgba(0,0,0,0.8)] to-transparent z-0"></div>
        <img
          [src]="image"
          alt="Imagen del post"
          class="object-cover w-full h-40 transition-all duration-500 group-hover:scale-105 group-hover:brightness-110"
          itemprop="image"
        />
        <div class="absolute bottom-0 left-0 p-4 z-10">
          <h2
            class="font-orbitron text-xl font-bold text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)] animate-glow"
            itemprop="headline"
          >
            {{ title }}
          </h2>
          <p class="font-medium text-sm text-white mt-1 drop-shadow-md" itemprop="articleSection">
            {{ category }}
          </p>
        </div>
      </div>
      <div class="p-4 space-y-3 bg-[rgba(0,0,0,0.9)]">
        <p class="text-gray-200 text-sm leading-snug" itemprop="description">
          {{ excerpt }}
        </p>
        <div class="flex items-center space-x-3 text-xs">
          <div class="flex-shrink-0">
            <span
              class="w-8 h-8 rounded-full flex items-center justify-center text-white font-bold animate-pulse text-sm"
              [ngStyle]="{'background': 'linear-gradient(to right, ' + dynamicStyles.gradientFrom + ', ' + dynamicStyles.gradientTo + ')' }"
              itemprop="author"
              itemscope
              itemtype="https://schema.org/Person"
            >
              <meta itemprop="name" [content]="author" />
              {{ authorInitials }}
            </span>
          </div>
          <div>
            <p
              class="font-medium"
              [ngClass]="[dynamicStyles.text, 'drop-shadow-md']"
            >
              <span
                itemprop="author"
                itemscope
                itemtype="https://schema.org/Person"
              >
                <meta itemprop="name" [content]="author" />
                {{ author }}
              </span>
            </p>
            <p
              class="text-xs"
              [ngClass]="[dynamicStyles.text, 'drop-shadow-md']"
            >
              <time
                itemprop="datePublished"
                [attr.datetime]="date"
              >{{ date }}</time>
            </p>
          </div>
        </div>
      </div>
      <div
        class="px-4 py-3 flex flex-col sm:flex-row justify-between items-center gap-2"
        [ngStyle]="{'background': 'linear-gradient(to right, ' + dynamicStyles.gradientFrom + ', ' + dynamicStyles.gradientTo + ')' }"
      >
        <button
          class="p-2 bg-[var(--neon-cyan)] text-black rounded-full shadow-[0_0_10px_rgba(0,229,255,0.6)] hover:bg-[var(--neon-pink)] hover:shadow-[0_0_20px_rgba(236,72,153,0.8)] transition-all duration-300 hover:scale-105 disabled:opacity-40 disabled:cursor-not-allowed z-20"
          (click)="changePost(-1)"
          [disabled]="currentPostIndex === 0"
        >
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
        <div class="text-xs text-center">
          <span
            class="px-2 py-1 rounded-full text-xs font-semibold transition-all duration-200 hover:bg-[rgba(255,255,255,0.1)]"
            [ngClass]="[dynamicStyles.background, dynamicStyles.text]"
            itemprop="keywords"
          >
            #{{ tag }}
          </span>
        </div>
        <a
          [href]="readMoreUrl"
          class="bg-gradient-to-r text-white font-semibold py-2 px-4 rounded-full shadow-[0_0_10px_rgba(0,229,255,0.5)] transition-all duration-300 transform hover:scale-105 hover:shadow-[0_0_20px_rgba(236,72,153,0.7)] flex items-center animate-glow text-sm whitespace-nowrap"
          [ngStyle]="{'background': 'linear-gradient(to right, ' + dynamicStyles.gradientFrom + ', ' + dynamicStyles.gradientTo + ')' }"
          itemprop="mainEntityOfPage"
        >
          <span>Leer más</span>
          <svg
            class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform duration-300"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M14 5l7 7m0 0l-7 7m7-7H3"
            />
          </svg>
        </a>
        <button
          class="p-2 bg-[var(--neon-cyan)] text-black rounded-full shadow-[0_0_10px_rgba(0,229,255,0.6)] hover:bg-[var(--neon-pink)] hover:shadow-[0_0_20px_rgba(236,72,153,0.8)] transition-all duration-300 hover:scale-105 disabled:opacity-40 disabled:cursor-not-allowed z-20"
          (click)="changePost(1)"
          [disabled]="currentPostIndex === posts.length - 1"
        >
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </button>
      </div>
    </article>
  </div>
  <div *ngIf="isMobile" class="flex justify-center mt-3 space-x-2">
    <span
      *ngFor="let post of posts; let i = index"
      class="w-2 h-2 rounded-full transition-all duration-300"
      [ngClass]="{'bg-[var(--neon-cyan)] scale-125': i === currentPostIndex, 'bg-gray-500': i !== currentPostIndex}"
    ></span>
  </div>
</div>